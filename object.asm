TITLE object.asm
OPTION casemap:none

; third-party library
INCLUDE Irvine32.inc

; local library
INCLUDE object.inc


.data

; 小恐龍
; ****************************************************************************
; 尺寸
dino_norm_xdim          =           40
dino_norm_ydim          =           42
dino_bow_xdim           =           57
dino_bow_ydim           =           26
; ----------------------------------------------------------------------------
; 內容物屬性
dino_norm_attribute_white WORD      dino_norm_xdim DUP(white)
dino_bow_attribute_white  WORD      dino_bow_xdim DUP(white)
; ----------------------------------------------------------------------------
; 內容物字串
dino_contents           BYTE        "                      @@@@@@@@@@@@@@@@  "
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@  @@@@@@@@@@@@@@"
                        BYTE        "                    @@@@  @@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@          "
                        BYTE        "                    @@@@@@@@@@          "
                        BYTE        "                    @@@@@@@@@@@@@@@@    "
                        BYTE        "                    @@@@@@@@@@@@@@@@    "
                        BYTE        "@@                @@@@@@@@@@            "
                        BYTE        "@@                @@@@@@@@@@            "
                        BYTE        "@@             @@@@@@@@@@@@@            "
                        BYTE        "@@             @@@@@@@@@@@@@            "
                        BYTE        "@@@@        @@@@@@@@@@@@@@@@@@@@        "
                        BYTE        "@@@@        @@@@@@@@@@@@@@@@@@@@        "
                        BYTE        "@@@@@@    @@@@@@@@@@@@@@@@@@  @@        "
                        BYTE        "@@@@@@    @@@@@@@@@@@@@@@@@@  @@        "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "      @@@@@@@@@@@@@@@@@@                "
                        BYTE        "      @@@@@@@@@@@@@@@@@@                "
                        BYTE        "        @@@@@@@@@@@@@@                  "
                        BYTE        "        @@@@@@@@@@@@@@                  "
                        BYTE        "          @@@@@@  @@@@                  "
                        BYTE        "          @@@@@@  @@@@                  "
                        BYTE        "          @@@@      @@                  "
                        BYTE        "          @@@@      @@                  "
                        BYTE        "          @@        @@                  "
                        BYTE        "          @@        @@                  "
                        BYTE        "          @@@@      @@@@                "
                        BYTE        "          @@@@      @@@@                "

dino_l_contents         BYTE        "                      @@@@@@@@@@@@@@@@  "
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@  @@@@@@@@@@@@@@"
                        BYTE        "                    @@@@  @@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@          "
                        BYTE        "                    @@@@@@@@@@          "
                        BYTE        "                    @@@@@@@@@@@@@@@@    "
                        BYTE        "                    @@@@@@@@@@@@@@@@    "
                        BYTE        " @                @@@@@@@@@@            "
                        BYTE        "@@                @@@@@@@@@@            "
                        BYTE        "@@             @@@@@@@@@@@@@            "
                        BYTE        "@@             @@@@@@@@@@@@@            "
                        BYTE        "@@@@        @@@@@@@@@@@@@@@@@@@@        "
                        BYTE        "@@@@        @@@@@@@@@@@@@@@@@@@@        "
                        BYTE        "@@@@@@    @@@@@@@@@@@@@@@@@@  @@        "
                        BYTE        "@@@@@@    @@@@@@@@@@@@@@@@@@  @@        "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "      @@@@@@@@@@@@@@@@@@                "
                        BYTE        "      @@@@@@@@@@@@@@@@@@                "
                        BYTE        "        @@@@@@@@@@@@@@                  "
                        BYTE        "        @@@@@@@@@@@@@@                  "
                        BYTE        "          @@@@    @@@@                  "
                        BYTE        "          @@@@    @@@@                  "
                        BYTE        "            @@@@    @@                  "
                        BYTE        "            @@@@    @@                  "
                        BYTE        "                    @@                  "
                        BYTE        "                    @@                  "
                        BYTE        "                    @@@@                "
                        BYTE        "                    @@@@                "

dino_r_contents         BYTE        "                      @@@@@@@@@@@@@@@@  "
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@  @@@@@@@@@@@@@@"
                        BYTE        "                    @@@@  @@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                    @@@@@@@@@@          "
                        BYTE        "                    @@@@@@@@@@          "
                        BYTE        "                    @@@@@@@@@@@@@@@@    "
                        BYTE        "                    @@@@@@@@@@@@@@@@    "
                        BYTE        "@                 @@@@@@@@@@            "
                        BYTE        "@@                @@@@@@@@@@            "
                        BYTE        "@@             @@@@@@@@@@@@@            "
                        BYTE        "@@             @@@@@@@@@@@@@            "
                        BYTE        "@@@@        @@@@@@@@@@@@@@@@@@@@        "
                        BYTE        "@@@@        @@@@@@@@@@@@@@@@@@@@        "
                        BYTE        "@@@@@@    @@@@@@@@@@@@@@@@@@  @@        "
                        BYTE        "@@@@@@    @@@@@@@@@@@@@@@@@@  @@        "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@@@            "
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "      @@@@@@@@@@@@@@@@@@                "
                        BYTE        "      @@@@@@@@@@@@@@@@@@                "
                        BYTE        "        @@@@@@@@@@@@@@                  "
                        BYTE        "        @@@@@@@@@@@@@@                  "
                        BYTE        "          @@@@@@    @@@@@               "
                        BYTE        "          @@@@@@    @@@@@               "
                        BYTE        "          @@@@                          "
                        BYTE        "          @@@@                          "
                        BYTE        "          @@                            "
                        BYTE        "          @@                            "
                        BYTE        "          @@@@                          "
                        BYTE        "          @@@@                          "

dino_bl_contents        BYTE        "@@                                                       "
                        BYTE        "  @@                                   @@@@@@@@@@@@@@@@  "
                        BYTE        "  @@@@@@        @@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@  "
                        BYTE        "  @@@@@@        @@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@"
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@"
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          "
                        BYTE        "          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          "
                        BYTE        "            @@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@    "
                        BYTE        "            @@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@    "
                        BYTE        "              @@@@@@@@@@@@@@@@@@@@@                      "
                        BYTE        "              @@@@@@@@@@@@     @@                        "
                        BYTE        "             @@@@@@    @@@@@   @@                        "
                        BYTE        "             @@@@@@    @@@@@   @@@@                      "
                        BYTE        "             @@@@              @@@@                      "
                        BYTE        "             @@@@                                        "
                        BYTE        "             @@                                          "
                        BYTE        "             @@                                          "
                        BYTE        "             @@@@                                        "
                        BYTE        "             @@@@                                        "

dino_br_contents        BYTE        "@                                                        "
                        BYTE        " @@@                                   @@@@@@@@@@@@@@@@  "
                        BYTE        "  @@@@@@        @@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@  "
                        BYTE        "  @@@@@@        @@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@"
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@"
                        BYTE        "  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@"
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          "
                        BYTE        "          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          "
                        BYTE        "            @@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@    "
                        BYTE        "            @@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@    "
                        BYTE        "              @@@@@@@@@@@@@@@@@@@@@                      "
                        BYTE        "              @@@@@@@@@@@@     @@                        "
                        BYTE        "             @@    @@@@@@      @@                        "
                        BYTE        "             @@    @@@@@@      @@@@                      "
                        BYTE        "             @@@@  @@@@        @@@@                      "
                        BYTE        "             @@@@  @@@@                                  "
                        BYTE        "                   @@                                    "
                        BYTE        "                   @@                                    "
                        BYTE        "                   @@@@                                  "
                        BYTE        "                   @@@@                                  "
; ----------------------------------------------------------------------------
; 角色: 白色小恐龍
dino_white              DINO        << OFFSET dino_contents,               \
                                       OFFSET dino_norm_attribute_white,   \
                                       < dino_norm_xdim, dino_norm_ydim > >>
; ****************************************************************************


; 仙人掌一號
; ****************************************************************************
; 尺寸
cactus1_xdim            =           23
cactus1_ydim            =           46
; ----------------------------------------------------------------------------
; 內容物字串
cactus1_contents        BYTE        "         @@@@@         "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@    @@@ "
                        BYTE        "        @@@@@@@   @@@@@"
                        BYTE        " @@@    @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@ "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@  "
                        BYTE        " @@@@@@@@@@@@@@@@@@@   "
                        BYTE        "  @@@@@@@@@@@@@@@@@    "
                        BYTE        "   @@@@@@@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@        "
                        BYTE        "        @@@@@@@   @    "
                        BYTE        "    @ @@@@@@@@@     @  "
; ----------------------------------------------------------------------------
; 內容物屬性
cactus1_attribute_green WORD        cactus1_xdim DUP(lightGreen)
; ----------------------------------------------------------------------------
; 物件: 綠色仙人掌一號
cactus1_green           STATIC_ENEMY << OFFSET cactus1_contents,        \
                                        OFFSET cactus1_attribute_green, \
                                        < cactus1_xdim, cactus1_ydim > >>
; ****************************************************************************

; 仙人掌二號
; ****************************************************************************
; 尺寸
cactus2_xdim            =           48
cactus2_ydim            =           46
; ----------------------------------------------------------------------------
; 內容物字串
cactus2_contents        BYTE        "         @@@@@                    @@@@@         "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@           @@@    @@@@@@@        "
                        BYTE        "        @@@@@@@          @@@@@   @@@@@@@        "
                        BYTE        "        @@@@@@@          @@@@@   @@@@@@@        "
                        BYTE        "        @@@@@@@          @@@@@   @@@@@@@        "
                        BYTE        "        @@@@@@@          @@@@@   @@@@@@@        "
                        BYTE        "        @@@@@@@    @@    @@@@@   @@@@@@@    @@@ "
                        BYTE        "        @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        " @@@    @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@   @@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@   @@@@@@@@@@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@    @@@@@@@@@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@     @@@@@@@@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@      @@@@@@@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@       @@@@@@@@@@@   @@@@@"
                        BYTE        "@@@@@   @@@@@@@   @@@@           @@@@@@@   @@@@@"
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@            @@@@@@@@@@@@@@ "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@  "
                        BYTE        " @@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@   "
                        BYTE        "  @@@@@@@@@@@@@                  @@@@@@@@@@     "
                        BYTE        "    @@@@@@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@                  @@@@@@@        "
                        BYTE        "        @@@@@@@   @              @@@@@@@   @    "
                        BYTE        "    @ @@@@@@@@@ @    @       @ @@@@@@@@@ @    @ "
; ----------------------------------------------------------------------------
; 內容物屬性
cactus2_attribute_green WORD        cactus2_xdim DUP(lightGreen)
; ----------------------------------------------------------------------------
; 物件: 綠色仙人掌二號
cactus2_green           STATIC_ENEMY << OFFSET cactus2_contents,        \
                                        OFFSET cactus2_attribute_green, \
                                        < cactus2_xdim, cactus2_ydim > >>
; ****************************************************************************

; 鳥一號
; ****************************************************************************
; 尺寸
bird1_xdim              =           42
bird1_ydim              =           25
; ----------------------------------------------------------------------------
bird1_u_contents        BYTE        "              @                           "
                        BYTE        "              @@@@                        "
                        BYTE        "              @@@@                        "
                        BYTE        "              @@@@@@                      "
                        BYTE        "              @@@@@@                      "
                        BYTE        "                @@@@@@                    "
                        BYTE        "         @@@    @@@@@@                    "
                        BYTE        "      @@@@@@    @@@@@@@@                  "
                        BYTE        "      @@@@@@    @@@@@@@@                  "
                        BYTE        "    @@@@@@@@@@  @@@@@@@@@@                "
                        BYTE        "    @@@ @@@@@@  @@@@@@@@@@                "
                        BYTE        "  @@@@@@@@@@@@  @@@@@@@@@@@@              "
                        BYTE        "  @@@@@@@@@@@@  @@@@@@@@@@@@              "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "     @@@@@@@@@@@@@@@@@@@@@@@@@@           "
                        BYTE        "            @@@@@@@@@@@@@@@@@@            "
                        BYTE        "            @@@@@@@@@@@@@@@@@@            "
                        BYTE        "              @@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "              @@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                @@@@@@@@@@@@@@@@@@@@      "
                        BYTE        "                @@@@@@@@@@@@@@@@@@@@      "
                        BYTE        "                  @@@@@@@@@@@@@@@@@@@@@@  "
                        BYTE        "                  @@@@@@@@@@@@@@@@@@@@@@  "
                        BYTE        "                    @@@@@@@@@@@@@@        "
                        BYTE        "                    @@@@@@@@@@@@@@        "

bird1_d_contents        BYTE        "         @@@                              "
                        BYTE        "      @@@@@@                              "
                        BYTE        "      @@@@@@                              "
                        BYTE        "    @@@@@@@@@@                            "
                        BYTE        "    @@@ @@@@@@                            "
                        BYTE        "  @@@@@@@@@@@@                            "
                        BYTE        "  @@@@@@@@@@@@                            "
                        BYTE        "@@@@@@@@@@@@@@@@@@@@@@@@@@@@              "
                        BYTE        "     @@@@@@@@@@@@@@@@@@@@@@               "
                        BYTE        "            @@@@@@@@@@@@@@@@@@            "
                        BYTE        "            @@@@@@@@@@@@@@@@@@            "
                        BYTE        "              @@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "              @@@@@@@@@@@@@@@@@@@@@@@@@@@@"
                        BYTE        "                @@@@@@@@@@@@@@@@@@@@      "
                        BYTE        "                @@@@@@@@@@@@@@@@@@@@      "
                        BYTE        "                @@@@@@@@@@@@@@@@@@@@@@@@  "
                        BYTE        "                @@@@@@@@@@@@@@@@@@@@@@@@  "
                        BYTE        "                @@@@@@@@@@@@@@@@@@        "
                        BYTE        "                @@@@@@@@@@@@              "
                        BYTE        "                @@@@@@@@                  "
                        BYTE        "                @@@@@@@@                  "
                        BYTE        "               @@@@@@                     "
                        BYTE        "               @@@@@@                     "
                        BYTE        "               @@@@                       "
                        BYTE        "               @                          "
; ----------------------------------------------------------------------------
; 內容物屬性
bird1_attribute_brown   WORD        bird1_xdim DUP(brown)
; ----------------------------------------------------------------------------
; 物件: 棕色鳥一號
bird1_brown             DYNAMIC_ENEMY << OFFSET bird1_u_contents,      \
                                         OFFSET bird1_attribute_brown, \
                                         < bird1_xdim, bird1_ydim >,   \
                                         < ?, ? > >,                   \
                                         1, 0, OFFSET bird1_d_contents >
; ****************************************************************************

; 遊戲開始
; ****************************************************************************
; 尺寸
game_start_xdim         =           215
game_start_ydim         =           8
; ----------------------------------------------------------------------------
; 內容物屬性
game_start_attribute_white WORD     game_start_xdim DUP(white)
; ----------------------------------------------------------------------------
; 內容物字串

game_start_contents     BYTE        " /$$$$$$$  /$$   /$$  /$$$$$$  /$$   /$$       /$$$$$$$$ /$$   /$$ /$$$$$$$$        /$$$$$$  /$$$$$$$   /$$$$$$   /$$$$$$  /$$$$$$$$       /$$$$$$$$  /$$$$$$         /$$$$$$  /$$$$$$$$  /$$$$$$  /$$$$$$$  /$$$$$$$$ "           
                        BYTE        "| $$__  $$| $$  | $$ /$$__  $$| $$  | $$      |__  $$__/| $$  | $$| $$_____/       /$$__  $$| $$__  $$ /$$__  $$ /$$__  $$| $$_____/      |__  $$__/ /$$__  $$       /$$__  $$|__  $$__/ /$$__  $$| $$__  $$|__  $$__/ "           
                        BYTE        "| $$  \ $$| $$  | $$| $$  \__/| $$  | $$         | $$   | $$  | $$| $$            | $$  \__/| $$  \ $$| $$  \ $$| $$  \__/| $$               | $$   | $$  \ $$      | $$  \__/   | $$   | $$  \ $$| $$  \ $$   | $$    "           
                        BYTE        "| $$$$$$$/| $$  | $$|  $$$$$$ | $$$$$$$$         | $$   | $$$$$$$$| $$$$$         |  $$$$$$ | $$$$$$$/| $$$$$$$$| $$      | $$$$$            | $$   | $$  | $$      |  $$$$$$    | $$   | $$$$$$$$| $$$$$$$/   | $$    "           
                        BYTE        "| $$____/ | $$  | $$ \____  $$| $$__  $$         | $$   | $$__  $$| $$__/          \____  $$| $$____/ | $$__  $$| $$      | $$__/            | $$   | $$  | $$       \____  $$   | $$   | $$__  $$| $$__  $$   | $$    "           
                        BYTE        "| $$      | $$  | $$ /$$  \ $$| $$  | $$         | $$   | $$  | $$| $$             /$$  \ $$| $$      | $$  | $$| $$    $$| $$               | $$   | $$  | $$       /$$  \ $$   | $$   | $$  | $$| $$  \ $$   | $$    "           
                        BYTE        "| $$      |  $$$$$$/|  $$$$$$/| $$  | $$         | $$   | $$  | $$| $$$$$$$$      |  $$$$$$/| $$      | $$  | $$|  $$$$$$/| $$$$$$$$         | $$   |  $$$$$$/      |  $$$$$$/   | $$   | $$  | $$| $$  | $$   | $$    "           
                        BYTE        "|__/       \______/  \______/ |__/  |__/         |__/   |__/  |__/|________/       \______/ |__/      |__/  |__/ \______/ |________/         |__/    \______/        \______/    |__/   |__/  |__/|__/  |__/   |__/    "           

; ----------------------------------------------------------------------------
; 物件: 遊戲結束字體
game_start_str          OBJECT      << OFFSET game_start_contents,           \
                                       OFFSET game_start_attribute_white,    \
                                       < game_start_xdim, game_start_ydim > >>
; ****************************************************************************

; 遊戲結束
; ****************************************************************************
; 尺寸
game_over_xdim          =           91
game_over_ydim          =           9
; ----------------------------------------------------------------------------
; 內容物屬性
game_over_attribute_white WORD      game_over_xdim DUP(white)
; ----------------------------------------------------------------------------
; 內容物字串
game_over_contents      BYTE        "  /$$$$$$                                                                                  "
                        BYTE        " /$$__  $$                                                                                 "
                        BYTE        "| $$  \__/  /$$$$$$  /$$$$$$/$$$$   /$$$$$$         /$$$$$$  /$$    /$$ /$$$$$$   /$$$$$$  "
                        BYTE        "| $$ /$$$$ |____  $$| $$_  $$_  $$ /$$__  $$       /$$__  $$|  $$  /$$//$$__  $$ /$$__  $$ "
                        BYTE        "| $$|_  $$  /$$$$$$$| $$ \ $$ \ $$| $$$$$$$$      | $$  \ $$ \  $$/$$/| $$$$$$$$| $$  \__/ "
                        BYTE        "| $$  \ $$ /$$__  $$| $$ | $$ | $$| $$_____/      | $$  | $$  \  $$$/ | $$_____/| $$       "
                        BYTE        "|  $$$$$$/|  $$$$$$$| $$ | $$ | $$|  $$$$$$$      |  $$$$$$/   \  $/  |  $$$$$$$| $$       "
                        BYTE        " \______/  \_______/|__/ |__/ |__/ \_______/       \______/     \_/    \_______/|__/       "
                        BYTE        "                                                                                           "
; ----------------------------------------------------------------------------
; 物件: 遊戲結束字體
game_over_str           OBJECT      << OFFSET game_over_contents,          \
                                       OFFSET game_over_attribute_white,   \
                                       < game_over_xdim, game_over_ydim > >>
; ****************************************************************************

; 遊戲分數
; ****************************************************************************
; 尺寸
score_xdim              =           49
score_ydim              =           5
; ----------------------------------------------------------------------------
; 內容物屬性
score_attribute_white   WORD        score_xdim DUP(white)
; ----------------------------------------------------------------------------
; 內容物字串                        
score_contents          BYTE        "@@@@@@@  @@@@@@  @@@@@@  @@@@@@  @@@@@@@         "   
                        BYTE        "@@      @@      @@    @@ @@   @@ @@          @@  "  
                        BYTE        "@@@@@@@ @@      @@    @@ @@@@@@  @@@@@@          "    
                        BYTE        "     @@ @@      @@    @@ @@   @@ @@          @@  "   
                        BYTE        "@@@@@@@  @@@@@@  @@@@@@  @@   @@ @@@@@@@         "
; ----------------------------------------------------------------------------
; 物件: 遊戲分數字體
score_str               OBJECT      << OFFSET score_contents,        \
                                       OFFSET score_attribute_white, \
                                       < score_xdim, score_ydim >   >>
; ****************************************************************************

; 遊戲最高分數
; ****************************************************************************
; 尺寸
high_score_xdim         =           85
high_score_ydim         =           5
; ----------------------------------------------------------------------------
; 內容物屬性
high_score_attribute_white WORD     high_score_xdim DUP(white)
; ----------------------------------------------------------------------------
; 內容物字串               
high_score_contents     BYTE        "@@   @@ @@@@@@  @@@@@@  @@   @@     @@@@@@@  @@@@@@  @@@@@@  @@@@@@  @@@@@@@         "     
                        BYTE        "@@   @@   @@   @@       @@   @@     @@      @@      @@    @@ @@   @@ @@          @@  "   
                        BYTE        "@@@@@@@   @@   @@   @@@ @@@@@@@     @@@@@@@ @@      @@    @@ @@@@@@  @@@@@@          "    
                        BYTE        "@@   @@   @@   @@    @@ @@   @@          @@ @@      @@    @@ @@   @@ @@          @@  "   
                        BYTE        "@@   @@ @@@@@@  @@@@@@  @@   @@     @@@@@@@  @@@@@@  @@@@@@  @@   @@ @@@@@@@         "
; ----------------------------------------------------------------------------
; 物件: 遊戲最高分數字體
high_score_str          OBJECT      << OFFSET high_score_contents,           \
                                       OFFSET high_score_attribute_white,    \
                                       < high_score_xdim, high_score_ydim > >>
; ****************************************************************************

; 數字
; ****************************************************************************
; 尺寸
digit_xdim               =          10
digit_ydim               =          5
; ----------------------------------------------------------------------------
; 內容物屬性
digit_attribute_white    WORD       digit_xdim DUP(white)
; ----------------------------------------------------------------------------
; 內容物字串               
digit_0_contents         BYTE       " @@@@@@   "  
                         BYTE       "@@  @@@@  "   
                         BYTE       "@@ @@ @@  "   
                         BYTE       "@@@@  @@  "   
                         BYTE       " @@@@@@   "

digit_1_contents         BYTE       "    @@    "     
                         BYTE       "  @@@@    "     
                         BYTE       "    @@    "     
                         BYTE       "    @@    "     
                         BYTE       "    @@    "

digit_2_contents         BYTE       " @@@@@@@  "   
                         BYTE       "      @@  " 
                         BYTE       "  @@@@@   "
                         BYTE       " @@       "
                         BYTE       " @@@@@@@  "

digit_3_contents         BYTE       " @@@@@@   "
                         BYTE       "      @@  "
                         BYTE       "  @@@@@   "
                         BYTE       "      @@  "
                         BYTE       " @@@@@@   "

digit_4_contents         BYTE       " @@   @@  "
                         BYTE       " @@   @@  "
                         BYTE       " @@@@@@@  "
                         BYTE       "      @@  "
                         BYTE       "      @@  "

digit_5_contents         BYTE       " @@@@@@@  "
                         BYTE       " @@       "
                         BYTE       " @@@@@@@  "
                         BYTE       "      @@  "
                         BYTE       " @@@@@@@  "

digit_6_contents         BYTE       "  @@@@@@  " 
                         BYTE       " @@       "
                         BYTE       " @@@@@@@  "
                         BYTE       " @@    @@ "
                         BYTE       "  @@@@@@  "

digit_7_contents         BYTE       " @@@@@@@  "
                         BYTE       "      @@  "
                         BYTE       "     @@   "
                         BYTE       "    @@    "
                         BYTE       "    @@    "

digit_8_contents         BYTE       "  @@@@@   "
                         BYTE       " @@   @@  "
                         BYTE       "  @@@@@   "
                         BYTE       " @@   @@  "
                         BYTE       "  @@@@@   "

digit_9_contents         BYTE       "  @@@@@   " 
                         BYTE       " @@   @@  "
                         BYTE       "  @@@@@@  "
                         BYTE       "      @@  "
                         BYTE       "  @@@@@   "
; ----------------------------------------------------------------------------
; 物件: 數字0
digit_0                  OBJECT     << OFFSET digit_0_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字1
digit_1                  OBJECT     << OFFSET digit_1_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字2
digit_2                  OBJECT     << OFFSET digit_2_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字3
digit_3                  OBJECT     << OFFSET digit_3_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字4
digit_4                  OBJECT     << OFFSET digit_4_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字5
digit_5                  OBJECT     << OFFSET digit_5_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字6
digit_6                  OBJECT     << OFFSET digit_6_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字7
digit_7                  OBJECT     << OFFSET digit_7_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字8
digit_8                  OBJECT     << OFFSET digit_8_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; 物件: 數字9
digit_9                  OBJECT     << OFFSET digit_9_contents,       \
                                       OFFSET digit_attribute_white,  \
                                       < digit_xdim, digit_ydim >    >>
; ----------------------------------------------------------------------------
; 數字指標陣列
digits                   DWORD      OFFSET digit_0, OFFSET digit_1, OFFSET digit_2, OFFSET digit_3, OFFSET digit_4, \
                                    OFFSET digit_5, OFFSET digit_6, OFFSET digit_7, OFFSET digit_8, OFFSET digit_9
; ****************************************************************************

.code
; -------------------------------------------------
; Name:
;     BoxSetPos
; Brief:
;     將物體盒左下角置於某位置
; Uses:
;     eax esi
; Params:
;     box_ptr = 物體盒指標    (PTR BOX)
;           x = 左下角 x 座標 (DWORD)
;           y = 左下角 y 座標 (DWORD)
; Returns:
;     ...
; Example:
;     INVOKE BoxSetPos, ADDR dino_white.box, 20, 50
;     將灰色小恐龍左下角置於位置 (20, 50)
; -------------------------------------------------
BoxSetPos PROC USES eax esi box_ptr:PTR BOX, x:DWORD, y:DWORD
    mov esi, box_ptr
    mov eax, x
    mov (BOX PTR [esi]).pos.X, eax
    mov eax, y
    mov (BOX PTR [esi]).pos.Y, eax
    ret
BoxSetPos ENDP


; -------------------------------------------------
; Name:
;     DetectCollision
; Brief:
;     檢測兩物體盒的碰撞與否
; Uses:
;     eax ebx ecx esi edi
; Params:
;     box1_ptr = 物體盒指標 (PTR BOX)
;     box2_ptr = 物體盒指標 (PTR BOX)
; Returns:
;     edx = 0: 未碰撞, 1: 碰撞
; Example:
;     INVOKE DetectCollision, ADDR cactus_green.box, ADDR dino_white.box
;     引數可交換，下方註解以舉例進行說明
; -------------------------------------------------
DetectCollision PROC USES eax ebx ecx esi edi box1_ptr:PTR BOX, box2_ptr:PTR BOX
    LOCAL collided:DWORD
    mov collided, 0                             ; 一開始假設沒有相撞

    mov esi, box1_ptr
    mov edi, box2_ptr

    mov eax, (BOX PTR [esi]).pos.Y
    sub eax, (BOX PTR [esi]).dim.Y              ; eax = 仙人掌最上側的 Y 座標
    mov ebx, (BOX PTR [edi]).pos.Y
    sub ebx, (BOX PTR [edi]).dim.Y              ; ebx = 小恐龍最上側的 Y 座標

    mov ecx, (BOX PTR [edi]).pos.Y
    .if (eax < ecx)
        mov ecx, (BOX PTR [esi]).pos.Y
        .if (ebx < ecx)

            mov eax, (BOX PTR [esi]).pos.X
            add eax, (BOX PTR [esi]).dim.X      ; eax = 仙人掌最右側的 X 座標
            mov ebx, (BOX PTR [edi]).pos.X
            add ebx, (BOX PTR [edi]).dim.X      ; ebx = 小恐龍最右側的 X 座標

            mov ecx, (BOX PTR [edi]).pos.X
            .if (eax > ecx)
                mov ecx, (BOX PTR [esi]).pos.X
                .if (ebx > ecx)

                    mov collided, 1

                .endif
            .endif

        .endif
    .endif

    mov edx, collided
    ret
DetectCollision ENDP


; -------------------------------------------------
; Name:
;     DinoSwitchJump
; Brief:
;     跳躍狀態更新，清空 counter
; Uses:
;     eax
; Params:
;     state = jumping (DWORD)
; Returns:
;     ...
; Example:
;     INVOKE DinoSwitchLift, 2
; -------------------------------------------------
DinoSwitchJump PROC USES eax state:DWORD
    mov eax, state
    mov dino_white.jumping, eax
    mov dino_white.jump_counter, 0
    ret
DinoSwitchJump ENDP


; -------------------------------------------------
; Name:
;     DinoSwitchLift
; Brief:
;     抬腳狀態更新，清空 counter
; Uses:
;     eax
; Params:
;     state = lifting (DWORD)
; Returns:
;     ...
; Example:
;     INVOKE DinoSwitchLift, 0
; -------------------------------------------------
DinoSwitchLift PROC USES eax state:DWORD
    mov eax, state
    mov dino_white.lifting, eax
    mov dino_white.lift_counter, 0
    ret
DinoSwitchLift ENDP


; -------------------------------------------------
; Name:
;     DinoSwitchLift
; Brief:
;     彎腰狀態更新
; Uses:
;     eax
; Params:
;     state = bowing (DWORD)
; Returns:
;     ...
; Example:
;     INVOKE DinoSwitchBow, 0
; -------------------------------------------------
DinoSwitchBow PROC USES eax state:DWORD
    mov eax, state
    mov dino_white.bowing, eax
    ret
DinoSwitchBow ENDP


; -------------------------------------------------
; Name:
;     DinoChangeBody
; Brief:
;     小恐龍切換身體 (無參數，僅根據當前 lifting / bowing 狀態切換身體)
; Uses:
;     eax
; Params:
;     state = bowing (DWORD)
; Returns:
;     ...
; Example:
;     call DinoChangeBody
;
;     | lifting | bowing |
;     |     0   |    0   | 沒抬腿沒彎腰
;     |     0   |    1   | (不可能發生)
;     |     1   |    0   | 抬左腿沒彎腰
;     |     1   |    1   | 抬左腿有彎腰
;     |     2   |    0   | 抬右腿沒彎腰
;     |     2   |    1   | 抬右腿有彎腰
; -------------------------------------------------
DinoChangeBody PROC USES eax
    .if (dino_white.lifting == 0)
        .if (dino_white.bowing == 0)     ; 沒抬腿沒彎腰
            mov dino_white.box.contents_ptr, OFFSET dino_contents
            mov dino_white.box.attr_ptr, OFFSET dino_norm_attribute_white
            mov eax, dino_norm_xdim
            mov dino_white.box.dim.X, eax
            mov eax, dino_norm_ydim
            mov dino_white.box.dim.Y, eax
        .endif

    .elseif (dino_white.lifting == 1)
        .if (dino_white.bowing == 0)     ; 抬左腿沒彎腰
            mov dino_white.box.contents_ptr, OFFSET dino_l_contents
            mov eax, dino_norm_xdim
            mov dino_white.box.dim.X, eax
            mov eax, dino_norm_ydim
            mov dino_white.box.dim.Y, eax

        .elseif (dino_white.bowing == 1) ; 抬左腿有彎腰
            mov dino_white.box.contents_ptr, OFFSET dino_bl_contents
            mov dino_white.box.attr_ptr, OFFSET dino_bow_attribute_white
            mov eax, dino_bow_xdim
            mov dino_white.box.dim.X, eax
            mov eax, dino_bow_ydim
            mov dino_white.box.dim.Y, eax
        .endif

    .elseif (dino_white.lifting == 2)
        .if (dino_white.bowing == 0)     ; 抬右腿沒彎腰
            mov dino_white.box.contents_ptr, OFFSET dino_r_contents
            mov eax, dino_norm_xdim
            mov dino_white.box.dim.X, eax
            mov eax, dino_norm_ydim
            mov dino_white.box.dim.Y, eax

        .elseif (dino_white.bowing == 1) ; 抬右腿有彎腰
            mov dino_white.box.contents_ptr, OFFSET dino_br_contents
            mov dino_white.box.attr_ptr, OFFSET dino_bow_attribute_white
            mov eax, dino_bow_xdim
            mov dino_white.box.dim.X, eax
            mov eax, dino_bow_ydim
            mov dino_white.box.dim.Y, eax
        .endif

    .endif
    ret
DinoChangeBody ENDP


DynamicEnemyChangeBody PROC USES esi eax ebx enemy_ptr:PTR DYNAMIC_ENEMY
    mov esi, enemy_ptr
    mov eax, (DYNAMIC_ENEMY PTR [esi]).box.contents_ptr ; 當前內容物指標
    mov ebx, (DYNAMIC_ENEMY PTR [esi]).next             ; 下一內容物指標
    xchg eax, ebx
    mov (DYNAMIC_ENEMY PTR [esi]).box.contents_ptr, eax
    mov (DYNAMIC_ENEMY PTR [esi]).next, ebx
    ret
DynamicEnemyChangeBody ENDP

END